<!DOCTYPE HTML>

<html>

<head>
    <title>Simulated Robot</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="assets/css/main.css" />
    <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
</head>

<body>

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Header -->
        <header id="header">
            <a href="index.html" class="logo"><strong>Dawson Horvath</strong> <span>simulated robot</span></a>
            <nav>
                <a href="#menu">Menu</a>
            </nav>
        </header>

        <!-- Menu -->
        <nav id="menu">
          <ul class="links">
              <li><a href="index.html">Home</a></li>
              <li><a href="portfolio.html">Design Portfolio</a></li>
              <li><a href="artportfolio.html">Art Portfolio</a></li>
              <li><a href="#contact">Contact Me</a></li>
          </ul>
            <ul class="actions vertical">
                <li><a href="index.html" class="button special fit">Home</a></li>

            </ul>
        </nav>

        <!-- Main -->
        <div id="main" class="alt">

            <!-- One -->
            <section id="one">
                <div class="inner">
                    <header class="major">
                        <h1>Machine Learning Self-Driving Car Simulation</h1>
                        <p>Navigating a simulated world with computer vision, capturing license plate images and processing with trained neural network</p>
                    </header>
                    <br style="clear: both" />
                    <b>Context:</b>
                    <p> A brand new course added to Engineering Physics this year, ENPH 353 is a project based competition course where teams of two were challenged to program a robot capable of navigating a simulated world, avoiding obstacles, and collecting license plate information from various parked cars. Correctly labelling the location and license plate number of parked cars would yield points, whereas any off-road travel or collisions with world elements would deduct points. </p>
                    <b>Project report if curious:</b>
                    <a href="353Robot.pdf">UBC Engineering - Autonomous simulated car</a>
                    <p></p>

                    <b>Key Skills:</b>
                    <ul>
                        <li style="text-align:left; display: inline-block">Machine learning</li>
                        <li style="text-align:left; display: inline-block">computer vision</li>
                        <li style="text-align:left; display: inline-block">Image recognition and processing</li>
                        <li style="text-align:left; display: inline-block">Reinforcement learning</li>
                    </ul>
                    <p> </p>
                    <b>Key Technology:</b>

                    <ul>
                        <li style="text-align:left; display: inline-block">Linux</li>
                        <li style="text-align:left; display: inline-block">Gazebo</li>
                        <li style="text-align:left; display: inline-block">ROS</li>
                        <li style="text-align:left; display: inline-block"> OpenCV</li>
                        <li style="text-align:left; display: inline-block"> TensorFlow</li>
                        <li style="text-align:left; display: inline-block"> Keras</li>
                        <li style="text-align:left; display: inline-block"> Git</li>
                        <li style="text-align:left; display: inline-block"> Python</li>
                    </ul>
                    <p> </p>

                    <b>The world:</b><br>

                    <div>
                      <div class="first-column1">
                        <div>
                           <p >The following image captures a top view of the gazebo simulation world that our robot operated in.
                             Our robot (in white) is shown at its starting position on the road and the "parked cars" are represented
                            by the blue rectangles placed throughout the course at various "parking locations". Our objective was
                            to navigate the roads, and collect the license plate information of all parked cars along our path.
                          </p>
                        </div>
                      </div>
                      <div class="second-column1">
                          <img src="images/353Robot.png"width="45%" height="45%" style="display:block; margin:auto;"/>
                      </div>
                    </div>
                    <br style="clear: both" />


                    <b>Sensory Input:</b><br>

                    <div>
                      <div class="first-column1">
                        <div>
                           <p >
                           The operation of our robot relied solely on the camera input feed it received from the virtual world.
                           Within the gazebo simulation, a camera mounted on the top of the robot facing forwards continuously fed
                           our system with an image feed. The following image shows an example of the frame we would recive back.
                          </p>
                        </div>
                      </div>
                      <div class="second-column1">
                        <div width="100%" height="450">
                            <img src="images/353RobotCamera.png" width="40%" height="40%" style="display:block; margin:auto;"/>
                        </div>
                      </div>
                    </div>
                    <br style="clear: both" />


                    <br>
                    <b>Ros Architecture:</b>
                    <p>Since the only input to our system was the camera feed, our system needed to be capable of
                       transforming an input image into output commands through a series of callbacks and algorthims. At a very high level,
                        this architecture is summarized in the following diagram.
                    </p>
                    <div width="100%">
                        <img src="images/353RobotArchitecture.png" width="60%" />
                    </div>
                    <br>
                    <p>Each "callback" is essentially an asychronously running method responsible for handling a specific aspect of our
                      robots operation. For example, our "Car Callback" handles capturing images of the parked cars, as well as avoiding
                      the roaming truck which circles the middle track. Our "Navigation Callback" uses the camera feed to stay centered
                      within the road, and to properly stop at crosswalks. After we have successfully navigated the course, our system
                      has captured multiple images of each parked car we have passed.
                    </p>
                    <br>
                    <p>After capturing images of all parked cars, an "Objective Completed" flag withing our system gets set True.
                      This starts the execution of our License Plate Image Processing Callback.
                    </p>
                    <b>License Plate OCR</b>
                    <p>The captured images are first filtered and cropped to identify the portion of the image which has
                      the parking location and plate number information. Below, the images show an example of the unfiltered captured images,
                      followed by the process of locating the areas of the image which hold the information we are looking for. It is worth
                      noting that some of the images we capture are not completely in focus. Regardles, our algorithm was able to correctly
                      identify and crop the images for further processing. After filtering the images, we send them through our pre-trained
                      neural network which outputs the parking location and licence plate number to the terminal and scoreboard with an accuracy of 98%.
                    </p>
                    <br>
                    <div>
                      <div class="first-column1">
                        <div width="100%" height="500">
                            <img src="images/353RobotCar.jpg"  style="display:block; margin:auto;"/>
                        </div>
                      </div>
                      <div class="second-column1">
                        <div width="100%" height="500">
                            <img height="80%" src="images/353RobotPlate.png" style="display:block; margin:auto;"/>
                        </div>
                      </div>
                    </div>
                    <br style="clear: both" />
                    <br clear="both">

                    <b>The Big Picture:</b>
                    <div>
                      <div class="first-column1">
                        <div width="100%" height="450">
                        <p>The following video shows a captured demo run of our finished robot. A top down view on the right portion of the screen shows
                          the robots progress through its path, whereas the left portion of the screen shows the world through the eyes of the robot.
                          There are a few other key points worth noting below. </p>
                        </div>
                      </div>
                      <div class="second-column1">
                        <div width="100%">
                            <!-- <img src="images/353RobotPlate.png" style="display:block; margin:auto;"/> -->
                            <iframe width="80%" height="400" src="https://www.youtube.com/embed/-LxopGj8DLo?controls=0" style="display:block; margin:auto;"></iframe>
                        </div>
                      </div>
                    </div>
                    <br clear="both">
                    <p> Within the gazebo simulation world, we had to deal with the constraint that output commands were discrete
                      in nature, meaning there was only a finite set of commands that we could give. In our case, this meant that we could not publish "go forward" and
                      "turn left" commands at the same time. The result is that our robot looks very jittery as it travels. Its worth noting
                      that this is simply a limitation of the platform the simulation was running in.
                    </p>
                      Bounding boxes can be seen throughout the video. Parked cars are represented with blue bounding boxes, pedestrians with red (or green) depending on their position,
                      and the roaming truck with a yellow bounding box. The identification of these objects of interest were what we used to make decisions within our code.
                    <p>
                    </P>
                    <p>
                      At the very end of the video, all captured license plates are printed to the terminal in the top left corner of the screen.
                    </P>

                    <b>Achievements</b>
                    <ul>
                        <li>lastet night: <b>3:13 am</b></li>
                        <li>Biggest dream that was give up on: <b>Front to back Reinforcement Learning.</b></li>
                        <li>largest cup of coffee: <b>Approximately 1L</b></li>
                        <li>Fastest sim runtime: <b> Realtime Factor of 11 </b></li>
                    </ul>


                </div>
            </section>

        </div>

        <!-- Contact -->
        <section id="contact">
            <div class="inner">
                <section>
                    <form method="post" action="form.php">
                        <div class="field half first">
                            <label for="name">Name</label>
                            <input type="text" name="name" id="name" />
                        </div>
                        <div class="field half">
                            <label for="email">Email</label>
                            <input type="text" name="email" id="email" />
                        </div>
                        <div class="field">
                            <label for="message">Message</label>
                            <textarea name="message" id="message" rows="6"></textarea>
                        </div>
                        <ul class="actions">
                            <li><input type="submit" value="Send Message" class="special" /></li>
                            <li><input type="reset" value="Clear" /></li>
                        </ul>
                    </form>
                </section>
                <section class="split">
                    <section>
                        <div class="contact-method">
                            <span class="icon alt fa-envelope"></span>
                            <h3>Email</h3>
                            <a href="#">Horvath.dawson@gmail.com</a>
                        </div>
                    </section>
                    <section>
                        <div class="contact-method">
                            <span class="icon alt fa-phone"></span>
                            <h3>Phone</h3>
                            <span>250-306-0343</span>
                        </div>
                    </section>
                    <section>
                        <div class="contact-method">
                            <span class="icon alt fa-home"></span>
                            <h3>Location</h3>
                            <span>Vancouver<br />
										British Columbia<br />
										Canada</span>
                        </div>
                    </section>
                </section>
            </div>
        </section>

        <!-- Footer -->
        <footer id="footer">
            <section>
                <div id="footerpicture">
                    <img src="images/footer.png" />
                </div>
            </section>
        </footer>

    </div>

    <!-- Scripts -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/jquery.scrolly.min.js"></script>
    <script src="assets/js/jquery.scrollex.min.js"></script>
    <script src="assets/js/skel.min.js"></script>
    <script src="assets/js/util.js"></script>
    <!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
    <script src="assets/js/main.js"></script>

</body>

</html>
